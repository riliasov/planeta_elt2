# BACKLOG

## High Priority üî¥
- [ ] **Data Match**: –ê—É–¥–∏—Ç —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –º–µ–∂–¥—É Legacy `core.clients` –∏ –Ω–æ–≤—ã–º `public.clients`.
- [ ] **Validation Fix**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ `expenses_hst` –∏ `clients_cur` (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ Sheets vs Contracts).
- [ ] **Ops**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–æ—Ç–∞—Ü–∏–∏/–æ—á–∏—Å—Ç–∫–∏ —Ç–∞–±–ª–∏—Ü—ã `validation_logs` (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è).
- [ ] **Business Logic**: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –≤–∏—Ç—Ä–∏–Ω—ã `v_client_balances` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `quantity` –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ø—Ä–æ–¥–∞–∂ –±–µ–∑ –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤).
- [ ] **Smart Header Mapping**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞ –ø—Ä–∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –æ–ø–µ—á–∞—Ç–∫–∞—Ö –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö (Levenshtein distance).

- [ ] **Telegram Alerts**: –û–ø–æ–≤–µ—â–µ–Ω–∏–µ –≤ Telegram –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–∞–π–ø–ª–∞–π–Ω–∞.
- [ ] **Data Merging**: –î–æ—Ä–∞–±–æ—Ç–∫–∞ SQL —Å–∫—Ä–∏–ø—Ç–æ–≤ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (`transform_*.sql`) –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ `_cur` –∏ `_hst` –≤ –µ–¥–∏–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã `core`.

## Medium Priority üü°
- [ ] **Advanced Validation Rules**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫—É—é —Å–≤—è–∑–Ω–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–∑–∂–µ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è).
- [ ] **Performance Tracking**: –ì—Ä–∞—Ñ–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ —à–∞–≥–∞–º (Extract vs Load vs Transform) –≤ –¥–∞—à–±–æ—Ä–¥–µ

## Low Priority üü¢
- [ ] **Dockerization**: –°–æ–∑–¥–∞–Ω–∏–µ Dockerfile –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.
- [ ] **API Access**: –°–æ–∑–¥–∞–Ω–∏–µ –ª–µ–≥–∫–æ–≤–µ—Å–Ω–æ–≥–æ FastAPI —Å–ª–æ—è –Ω–∞–¥ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## Future: Hybrid Strategy (Sheets + Web App) üîµ
*Status: Under Review / Deffered*

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–µ—Ç–∞–ª—å–Ω–æ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –≤–Ω–µ–¥—Ä–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã (Hybrid Mode).
**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è: Token Passing (–≠—Å—Ç–∞—Ñ–µ—Ç–∞) + Partial Locking.**

1.  **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª**:
    *   –°–æ–∑–¥–∞–Ω–∏–µ –≤ Sheets (`source=sheets`). –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø.
    *   –ü–µ—Ä–µ–¥–∞—á–∞ –≤ App -> `source=webapp`.
    *   Sheets –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –≤ —Ä–µ–∂–∏–º "View Only" –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.
2.  **Partial Locking (–ú—è–≥–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)**:
    *   –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ–ª—è (–¶–µ–Ω–∞, –î–∞—Ç–∞) -> Locked.
    *   –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è (–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏) -> Open.
3.  **Conflict Resolution**:
    *   –ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª–µ -> –°–æ–∑–¥–∞–µ—Ç—Å—è –¢–∏–∫–µ—Ç/–ê–ª–µ—Ä—Ç –≤ —Å–∏—Å—Ç–µ–º–µ.
    *   –ù–µ –¥–µ–ª–∞—Ç—å "Silent Revert", —É–≤–µ–¥–æ–º–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
4.  **GAS Implementation**:
    *   –í–∞–ª–∏–¥–∞—Ü–∏—è `source_system` –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–æ–∫–∏.
    *   –ö–æ–Ω—Ñ–∏–≥ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π.
