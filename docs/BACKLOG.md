# BACKLOG

> **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2026-01-17  
> **–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω**: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Ç–µ–∫—É—â–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ

---

## High Priority üî¥

### 1. **Data Match**: –ê—É–¥–∏—Ç —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä Legacy vs New Clients
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –ù–ê–ß–ê–¢–û
- **–ó–∞—á–µ–º**: –í –ø—Ä–æ–µ–∫—Ç–µ –º–æ–≥—É—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –¥–≤–µ –≤–µ—Ä—Å–∏–∏ `clients`: —Å—Ç–∞—Ä–∞—è legacy —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –Ω–æ–≤–∞—è. –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö –∏–ª–∏ —Ç–∏–ø–∞—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∑–∞–ø–∏—Å–µ–π.
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—è—Å–Ω–æ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –≤–æ–æ–±—â–µ legacy `core.clients` –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ `core.clients`, –∏–ª–∏ —ç—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–∞—è –∑–∞–¥–∞—á–∞.
- **–ß—Ç–æ –Ω—É–∂–Ω–æ**:
  1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `scripts/check_tables.py` –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ duplicate —Ç–∞–±–ª–∏—Ü.
  2. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL diff (—Å—Ä–∞–≤–Ω–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏, —Ç–∏–ø—ã, constraints).
  3. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Å–ª–∏—è–Ω–∏—è –∏–ª–∏ –æ–±–æ–∑–Ω–∞—á–∏—Ç—å –æ–¥–Ω—É –∫–∞–∫ —É—Å—Ç–∞—Ä–µ–≤—à—É—é.
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–Ø–Ø (–µ—Å–ª–∏ legacy —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è), –í–´–°–û–ö–ê–Ø (–µ—Å–ª–∏ –∏–¥–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ).

---

### 2. **Validation Fix**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ `expenses_hst` –∏ `clients_cur`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –î–õ–Ø HST**
- **–§–∞–∫—Ç**: –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è `sales_hst`, `clients_hst`, `trainings_hst` –∏ `expenses_hst` –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏. –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫).
- **–û—Å—Ç–∞–ª–æ—Å—å**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `clients_cur` –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ `_cur` —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º.
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ù–ò–ó–ö–ê–Ø (–¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏), –í–´–°–û–ö–ê–Ø (–¥–ª—è —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö).

---

### 3. **Performance**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ Batch COPY
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û** (–Ø–Ω–≤–∞—Ä—å 2026)
- **–ó–∞—á–µ–º**: –ü—Ä—è–º—ã–µ INSERT –ø–æ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –±—ã–ª–∏ —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–º–∏.
- **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ**: –í `loader.py` –≤–Ω–µ–¥—Ä–µ–Ω –º–µ—Ç–æ–¥ `copy_records_to_table`. –£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ 900 —Ä–∞–∑.
- **–ß—Ç–æ –Ω—É–∂–Ω–æ**: –†–∞—Å—à–∏—Ä–∏—Ç—å —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –Ω–∞ –≤—Å–µ —Ç–∏–ø—ã –∑–∞–≥—Ä—É–∑–æ–∫ (–Ω–µ —Ç–æ–ª—å–∫–æ CDC).

---

### 3. **Ops**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è/–æ—á–∏—Å—Ç–∫–∞ `validation_logs`
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –ù–ê–ß–ê–¢–û
- **–ó–∞—á–µ–º**: –¢–∞–±–ª–∏—Ü–∞ `ops.validation_logs` –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –æ–± –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ ETL. –ë–µ–∑ –æ—á–∏—Å—Ç–∫–∏ –æ–Ω–∞ –º–æ–∂–µ—Ç –≤—ã—Ä–∞—Å—Ç–∏ –¥–æ —Å–æ—Ç–µ–Ω —Ç—ã—Å—è—á —Å—Ç—Ä–æ–∫, –∑–∞–º–µ–¥–ª—è—è –∑–∞–ø—Ä–æ—Å—ã –∏ –∑–∞–Ω–∏–º–∞—è –º–µ—Å—Ç–æ –≤ –ë–î.
- **–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è**: –°—É—â–µ—Å—Ç–≤—É–µ—Ç –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞–µ–º—ã–π `scripts/clean_logs.py`, –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª—è–µ—Ç –ª–æ–≥–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–µ—Ç.
- **–ß—Ç–æ –Ω—É–∂–Ω–æ**:
  1. –î–æ–±–∞–≤–∏—Ç—å –≤ `src/etl/pipeline.py` –º–µ—Ç–æ–¥ `_cleanup_old_logs()` —Å –ª–æ–≥–∏–∫–æ–π —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π —Å—Ç–∞—Ä—à–µ N –¥–Ω–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 30).
  2. –í—ã–∑—ã–≤–∞—Ç—å –µ–≥–æ –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø–∞–π–ø–ª–∞–π–Ω–∞ (`ELTPipeline.run()`).
  3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase TTL policy –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î (—á–µ—Ä–µ–∑ SQL –º–∏–≥—Ä–∞—Ü–∏—é).
  4. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ `settings.py`: `LOG_RETENTION_DAYS = 30`.
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–Ø–Ø (–ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, –Ω–æ –Ω–µ–∏–∑–±–µ–∂–Ω–∞).

---

### 4. **Business Logic**: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –≤–∏—Ç—Ä–∏–Ω—ã `v_client_balances`
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ß–ê–°–¢–ò–ß–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö—Ä—É–ø–∫—É—é –ª–æ–≥–∏–∫—É regex)
- **–ó–∞—á–µ–º**: –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π **–ø–∞—Ä—Å–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ —Ä–µ–≥—É–ª—è—Ä–∫–∞–º–∏** (—Å—Ç—Ä–æ–∫–∏ 10-14 –≤ `view_client_balances.sql`):
  ```sql
  WHEN product_name ~ '8' THEN 8
  WHEN product_name ~ '4' THEN 4
  ```
  –≠—Ç–æ **–Ω–µ–Ω–∞–¥–µ–∂–Ω–æ**: –µ—Å–ª–∏ –ø—Ä–æ–¥—É–∫—Ç –Ω–∞–∑–≤–∞–Ω "–ê–±–æ–Ω–µ–º–µ–Ω—Ç –Ω–∞ 4 –∑–∞–Ω—è—Ç–∏—è + –ø–æ–¥–∞—Ä–æ–∫", —Ä–µ–≥—É–ª—è—Ä–∫–∞ `'4'` —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ "–ß–µ—Ç—ã—Ä–µ –∑–∞–Ω—è—Ç–∏—è" ‚Äî —Å–ª–æ–º–∞–µ—Ç—Å—è.
- **–ß—Ç–æ –Ω—É–∂–Ω–æ**:
  1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ª–æ–Ω–∫—É `quantity` –∏–∑ `core.sales` –Ω–∞–ø—Ä—è–º—É—é (—É–∂–µ –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ).
  2. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–≤—è–∑—å –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ –∫–æ–ª-–≤–∞ –∑–∞–Ω—è—Ç–∏–π ‚Äî —Å–æ–∑–¥–∞—Ç—å lookup —Ç–∞–±–ª–∏—Ü—É `lookups.products` (product_name ‚Üí units_per_item).
  3. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å view:
     ```sql
     SUM(s.quantity * COALESCE(p.units_per_item, 1)) as units_bought
     FROM core.sales s
     LEFT JOIN lookups.products p ON s.product_name = p.name
     ```
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ê–Ø (–±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∞, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏ ‚Üí —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã).

---

### 5. **Smart Header Mapping**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞ –ø—Ä–∏ –æ–ø–µ—á–∞—Ç–∫–∞—Ö
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –ù–ê–ß–ê–¢–û
- **–ó–∞—á–µ–º**: –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª –∫–æ–ª–æ–Ω–∫—É –≤ Sheets —Å "–ö–ª–∏–µ–Ω—Ç" –Ω–∞ "–ö–ª–∏–µ–Ω—Ç—ã" (–¥–æ–±–∞–≤–∏–ª –±—É–∫–≤—É), —Ç–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ **–º–æ–ª—á–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç** —ç—Ç—É –∫–æ–ª–æ–Ω–∫—É. –£–º–Ω—ã–π –º–∞–ø–ø–µ—Ä –º–æ–≥ –±—ã –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å: "–ù–µ –Ω–∞–π–¥–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ '–ö–ª–∏–µ–Ω—Ç', –Ω–æ –µ—Å—Ç—å –ø–æ—Ö–æ–∂–∞—è '–ö–ª–∏–µ–Ω—Ç—ã'. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?"
- **–ß—Ç–æ –Ω—É–∂–Ω–æ**:
  1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `python-Levenshtein` (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `difflib`).
  2. –í `src/etl/extractor.py` –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `_suggest_mapping()`.
  3. –ü—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –≤—ã—á–∏—Å–ª—è—Ç—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –õ–µ–≤–µ–Ω—à—Ç–µ–π–Ω–∞ –¥–æ –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–ª–æ–Ω–æ–∫.
  4. –ï—Å–ª–∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ < 3 –∏ similarity > 0.8 ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: "–í–æ–∑–º–æ–∂–Ω–æ, 'Klent' = 'klient'?"
  5. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –°–†–ï–î–ù–Ø–Ø (–∫–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏, –Ω–æ –º–æ–∂–µ—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö).

---

### 6. **Telegram Alerts**: –û–ø–æ–≤–µ—â–µ–Ω–∏–µ –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–∞–π–ø–ª–∞–π–Ω–∞
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –ù–ê–ß–ê–¢–û
- **–ó–∞—á–µ–º**: –ï—Å–ª–∏ ETL –ø–∞–¥–∞–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, Google API quota exceeded –∏–ª–∏ –æ—à–∏–±–∫–∞ –ë–î), **–Ω–∏–∫—Ç–æ –Ω–µ —É–∑–Ω–∞–µ—Ç**, –ø–æ–∫–∞ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∞—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ dashboard. Telegram-–∞–ª–µ—Ä—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.
- **–ß—Ç–æ –Ω—É–∂–Ω–æ**:
  1. –°–æ–∑–¥–∞—Ç—å `src/utils/telegram_notifier.py` —Å –º–µ—Ç–æ–¥–æ–º `send_alert(message)`.
  2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `python-telegram-bot` –∏–ª–∏ `requests` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ Telegram Bot API.
  3. –î–æ–±–∞–≤–∏—Ç—å –≤ `.env`:
     ```
     TELEGRAM_BOT_TOKEN=***
     TELEGRAM_ALERT_CHAT_ID=***
     ```
  4. –í `src/main.py` –æ–±–µ—Ä–Ω—É—Ç—å –≤–µ—Å—å pipeline –≤ try/except:
     ```python
     except Exception as e:
         telegram_notifier.send_alert(f"üö® ETL PIPELINE FAILED:\n{e}")
         raise
     ```
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–°–û–ö–ê–Ø (observability ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production).

---

### 7. **Data Merging**: –î–æ—Ä–∞–±–æ—Ç–∫–∞ SQL —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è `_cur` –∏ `_hst`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**
- **–§–∞–∫—Ç**: –°–∫—Ä–∏–ø—Ç—ã `transform_sales.sql` –∏ `transform_schedule.sql` **—É–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç** –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö `MERGE` –∑–∞–ø—Ä–æ—Å–∞ (–æ–¥–∏–Ω –¥–ª—è `_cur`, –≤—Ç–æ—Ä–æ–π –¥–ª—è `_hst`). –°–º. —Å—Ç—Ä–æ–∫–∏ 6-70 –∏ 73-140 –≤ `transform_sales.sql`.
- **–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
  - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ MERGE –≤ –æ–¥–∏–Ω —Å –ø–æ–º–æ—â—å—é `UNION ALL` –≤ –ø–æ–¥–∑–∞–ø—Ä–æ—Å–µ.
  - –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `source` –ø–æ–ª–µ–º (—Å–µ–π—á–∞—Å –æ–Ω–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º).
- **–î–µ–π—Å—Ç–≤–∏–µ**: –ü–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ DONE –∏–ª–∏ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è".

---

## Medium Priority üü°

### **Advanced Validation Rules**: –õ–æ–≥–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –ù–ê–ß–ê–¢–û
- **–ó–∞—á–µ–º**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å "–≥–ª—É–ø—ã–µ" –æ—à–∏–±–∫–∏ –≤–≤–æ–¥–∞: –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ø–æ–∑–∂–µ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –∫–ª–∏–µ–Ω—Ç –º–æ–ª–æ–∂–µ 0 –ª–µ—Ç.
- **–ß—Ç–æ –Ω—É–∂–Ω–æ**: –†–∞—Å—à–∏—Ä–∏—Ç—å `src/etl/validator.py`, –¥–æ–±–∞–≤–∏—Ç—å `BusinessRuleValidator` —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ cross-field –ª–æ–≥–∏–∫–∏.

### **Performance Tracking**: –ì—Ä–∞—Ñ–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ Dashboard
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–ï –ù–ê–ß–ê–¢–û
- **–ó–∞—á–µ–º**: –ü–æ–Ω–∏–º–∞—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ (—á—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ: Extract, Transform, Load?).
- **–ß—Ç–æ –Ω—É–∂–Ω–æ**: –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –≤ `ops.elt_runs`, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤ `dashboard.py`.

---

## Low Priority üü¢

### 11. **Modular Architecture**: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –í–∞—Ä–∏–∞–Ω—Ç B (–†–∞–∑–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û** (–Ø–Ω–≤–∞—Ä—å 2026)
- **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ**: 
  1. –°–æ–∑–¥–∞–Ω `migrate_hst.py` –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø–µ—Ä–µ–ª–∏–≤–∫–∏ —á–µ—Ä–µ–∑ Atomic Swap.
  2. –í `DataLoader` –¥–æ–±–∞–≤–ª–µ–Ω `fast_batch_insert`.
  3. –í–∞–ª–∏–¥–∞—Ç–æ—Ä —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏.
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–ü–û–õ–ù–ï–ù–û.

### 12. **Testing**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∫–æ–ª–æ–Ω–æ–∫ (Contract vs DB)
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**
- **–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ**: –°–∫—Ä–∏–ø—Ç `verify_schema_integrity.py` –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–µ—Å—Ç `tests/test_schema_integrity.py`.
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –í–´–ü–û–õ–ù–ï–ù–û.

---

## Future: Hybrid Strategy (Sheets + Web App) üîµ
*Status: Deferred / –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞*

[–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π]
